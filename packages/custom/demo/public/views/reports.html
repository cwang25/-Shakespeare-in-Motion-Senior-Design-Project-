
    <script>
    /*!
 * @preserve
 *
 * Readmore.js jQuery plugin
 * Author: @jed_foster
 * Project home: http://jedfoster.github.io/Readmore.js
 * Licensed under the MIT license
 *
 * Debounce function from http://davidwalsh.name/javascript-debounce-function
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(t,e,i){var a;return function(){var n=this,o=arguments,r=function(){a=null,i||t.apply(n,o)},s=i&&!a;clearTimeout(a),a=setTimeout(r,e),s&&t.apply(n,o)}}function i(t){var e=++h;return String(null==t?"rmjs-":t)+e}function a(t){var e=t.clone().css({height:"auto",width:t.width(),maxHeight:"none",overflow:"hidden"}).insertAfter(t),i=e.outerHeight(),a=parseInt(e.css({maxHeight:""}).css("max-height").replace(/[^-\d\.]/g,""),10),n=t.data("defaultHeight");e.remove();var o=a||t.data("collapsedHeight")||n;t.data({expandedHeight:i,maxHeight:a,collapsedHeight:o}).css({maxHeight:"none"})}function n(t){if(!d[t.selector]){var e=" ";t.embedCSS&&""!==t.blockCSS&&(e+=t.selector+" + [data-readmore-toggle], "+t.selector+"[data-readmore]{"+t.blockCSS+"}"),e+=t.selector+"[data-readmore]{transition: height "+t.speed+"ms;overflow: hidden;}",function(t,e){var i=t.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),t.getElementsByTagName("head")[0].appendChild(i)}(document,e),d[t.selector]=!0}}function o(e,i){this.element=e,this.options=t.extend({},s,i),n(this.options),this._defaults=s,this._name=r,this.init(),window.addEventListener?(window.addEventListener("load",l),window.addEventListener("resize",l)):(window.attachEvent("load",l),window.attachEvent("resize",l))}var r="readmore",s={speed:100,collapsedHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,blockCSS:"display: block; width: 100%;",startOpen:!1,beforeToggle:function(){},afterToggle:function(){}},d={},h=0,l=e(function(){t("[data-readmore]").each(function(){var e=t(this),i="true"===e.attr("aria-expanded");a(e),e.css({height:e.data(i?"expandedHeight":"collapsedHeight")})})},100);o.prototype={init:function(){var e=t(this.element);e.data({defaultHeight:this.options.collapsedHeight,heightMargin:this.options.heightMargin}),a(e);var n=e.data("collapsedHeight"),o=e.data("heightMargin");if(e.outerHeight(!0)<=n+o)return!0;var r=e.attr("id")||i(),s=this.options.startOpen?this.options.lessLink:this.options.moreLink;e.attr({"data-readmore":"","aria-expanded":this.options.startOpen,id:r}),e.after(t(s).on("click",function(t){return function(i){t.toggle(this,e[0],i)}}(this)).attr({"data-readmore-toggle":"","aria-controls":r})),this.options.startOpen||e.css({height:n})},toggle:function(e,i,a){a&&a.preventDefault(),e||(e=t('[aria-controls="'+_this.element.id+'"]')[0]),i||(i=_this.element);var n=t(i),o="",r="",s=!1,d=n.data("collapsedHeight");n.height()<=d?(o=n.data("expandedHeight")+"px",r="lessLink",s=!0):(o=d,r="moreLink"),this.options.beforeToggle(e,n,!s),n.css({height:o}),n.on("transitionend",function(i){return function(){i.options.afterToggle(e,n,s),t(this).attr({"aria-expanded":s}).off("transitionend")}}(this)),t(e).replaceWith(t(this.options[r]).on("click",function(t){return function(e){t.toggle(this,i,e)}}(this)).attr({"data-readmore-toggle":"","aria-controls":n.attr("id")}))},destroy:function(){t(this.element).each(function(){var e=t(this);e.attr({"data-readmore":null,"aria-expanded":null}).css({maxHeight:"",height:""}).next("[data-readmore-toggle]").remove(),e.removeData()})}},t.fn.readmore=function(e){var i=arguments,a=this.selector;return e=e||{},"object"==typeof e?this.each(function(){if(t.data(this,"plugin_"+r)){var i=t.data(this,"plugin_"+r);i.destroy.apply(i)}e.selector=a,t.data(this,"plugin_"+r,new o(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var a=t.data(this,"plugin_"+r);a instanceof o&&"function"==typeof a[e]&&a[e].apply(a,Array.prototype.slice.call(i,1))}):void 0}});
    </script>

<div ng-app = class="container" data-ng-controller="DemoController">

    <title>Shakespeare-In-Motion YO YO</title>


    <button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
        Data Selector
    </button>


    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">

                <div class="modal-body">

                    <form role="form">
                        <div class="form-group">
                            <div class="col-xs-2">
                                <label for="sym">Symbol</label>
                                <input class="form-control" ng-model="quote.symbol" type="text" id="sym">
                            </div>
                            <div class="col-xs-3">
                                <label for="chartSelect">Chart Type</label>
                                <div class="dropdown">

                                    <button class="btn btn-default dropdown-toggle" type="button"
                                            id="chartSelect" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                                        {{chartType}}
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                                        <li ng-repeat="chartType in chartTypes"><a ng-click="switchChartType(chartType)">{{chartType}}</a></li>
                                    </ul></div>
                            </div>
                            <div class="col-xs-4">
                                <label for="chartSelect">Date</label>


                                <p class="input-group">
                                    <input type="text" id = "dateSelect" class="form-control" uib-datepicker-popup="{{format}}" ng-model="eventdate" is-open="status.openedDatePicker" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" data-date-format="dd-mm-yyyy">
              <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="openDatePicker($event)"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>

                                </p>
                            </div>

                            <button class="btn btn-primary" data-dismiss="modal" ng-click="selectWeek()" id="display">Display</button>

                        </div>
                    </form>



                </div>

            </div>
        </div>
    </div>




    <!--<table class="table">
        <thead>
        <tr>
            <th>Symbol</th>
            <th>Chart Type</th>
            <th>Select Date</th>

        </tr>
        </thead>
        <tbody>
        <tr>
            <td><div class = "col-md-10"><input class="form-control" ng-model="quote.symbol" type = "text"></div></td>
            <td><div class="dropdown">
                <button class="btn btn-default dropdown-toggle" type="button"
                        id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                    Chart Type: {{chartType}}
                    <span class="caret"></span>
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                    <li ng-repeat="chartType in chartTypes"><a ng-click="switchChartType(chartType)">{{chartType}}</a></li>
                </ul>
            </div></td>
            <td><p class="row">
                <div class="col-md-3">
                <p class="input-group">
                    <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="eventdate" is-open="status.openedDatePicker" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" data-date-format="dd-mm-yyyy">
              <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="openDatePicker($event)"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>

            </p></div></td>
            <td><input class="btn-primary" type="submit" id="submit" value="Submit" ng-click="selectWeek()" /></td>
        </tr>
        </tbody>
    </table> -->


    <!--<p class="row">
        <div class="col-md-3">
            <p class="input-group">

                <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="dt" is-open="status.openedDatePicker" min-date="minDate" max-date="maxDate" datepicker-options="dateOptions" date-disabled="disabled(date, mode)" ng-required="true" close-text="Close" ng-model="eventdate" />
              <span class="input-group-btn">
                <button type="button" class="btn btn-default" ng-click="openDatePicker($event)"><i class="glyphicon glyphicon-calendar"></i></button>
              </span>
            </p>
        </div> -->


    <!-- based on code found here: https://groups.google.com/forum/#!topic/twitter-bootstrap-stackoverflow/f21Us8kXFjI-->



    <!--<table class="table">
        <thead>
        <tr>

            <th>Start Date</th>
            <th>End Date</th>

        </tr>
        </thead>
    <tbody>
    <tr>

        <td><input class="form-control" ng-model="quote.startDate"></td>
        <td><input class="form-control" ng-model="quote.endDate"></td>
        <td><button class="btn btn-primary" ng-click="showGraph()">Update Chart</button></td>
    </tr>
    </tbody>
        </table> -->

    <div id="chart"></div>
    <div id="lineChart"></div>



   <table class="table">
        <thead>
        <tr>
            <th>Index Performance</th>
            <th>News Sentiment</th>


        </tr>
        </thead>
        <tbody>
        <tr>
            <td>{{indexPerfMsg}}</td>
            <td>{{sentimentMsg}}</td>



        </tr>

        </tbody>
    </table>
    

    <table class="table">
        <thead>
        <tr>
            <th>News Date</th>
            <th>Title</th>
            <th>Content</th>

        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="news in newsarticles">
            <td>{{news.newsDate.toString().substring(0, 10)}}</td>
            <td>{{news.title}}</td>
            <td class="articlebody" style="height:auto">{{news.content}}</td>

        </tr>
        </tbody>
    </table>




</div>
<script>
$(function(){
    $(".articlebody").readmore(
        //{afterToggle: function(element){element.style.height="auto";}}
        );
        //afterToggle: function(trigger, element, expanded) {
        //element.setAttribute("style","height:auto");
  //}
    
})




//$('article').readmore({
 // afterToggle: function(trigger, element, expanded) {
  //  if(! expanded) { // The "Close" link was clicked
 //     $('html, body').animate( { scrollTop: element.offset().top }, {duration: 100 } );
 //   }
 // }
//});
</script>